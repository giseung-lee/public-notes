<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      HTTP 16 - 국제화 &middot; 이기승의 끄적끄적..
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/lanyon.css">
<link rel="stylesheet" href="/public/css/ntz4kiseung.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body>
    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <!-- Profile -->
  <div class="sidebar-item sidebar-profile-box">
    <img class="sidebar-profile-image" src="/public/image/About Me/sidebar_profile.png" >
    <div class="sidebar-profile-description">
      <span>
        &nbsp;잡기에 능한 개발자입니다. 잡기보다 개발 실력이 좋아야 할 텐데 걱정입니다.
      </span>
    </div>
  </div>
  <!-- Profile End -->

  <nav class="sidebar-nav">
    <!-- Home -->
    <a class="sidebar-nav-item" href="/">Home</a>
    <!-- Home End -->
    <!-- Posts -->
    
    
      
        <!-- 1 depth post -->
        <a class="sidebar-nav-item" href="http://localhost:4000/posts/About Me">About Me</a>
      
    
      
        <!-- 1 depth post -->
        <a class="sidebar-nav-item" href="http://localhost:4000/posts/Daily Thoughts">Daily Thoughts</a>
      
    
      
        <input id="Projects" class="toggle" type="checkbox">
        <label for="Projects" class="lbl-toggle sidebar-nav-item" tabindex="0">Projects</label>
        <div class="collapsible-content subcategories">
        
          
            <!-- 2 depth post -->
            <a class="sidebar-nav-item" href="http://localhost:4000/posts/Projects/Sagyo_Reboot">Sagyo_Reboot</a>
          
        
          
            <!-- 2 depth post -->
            <a class="sidebar-nav-item" href="http://localhost:4000/posts/Projects/Twitch_Chat_Analysis">Twitch_Chat_Analysis</a>
          
        
          
            <!-- 2 depth post -->
            <a class="sidebar-nav-item" href="http://localhost:4000/posts/Projects/Hwangmaesan">Hwangmaesan</a>
          
        
          
            <!-- 2 depth post -->
            <a class="sidebar-nav-item" href="http://localhost:4000/posts/Projects/The_Oyster_Mine">The_Oyster_Mine</a>
          
        
        </div>
      
    
      
        <input id="Study" class="toggle" type="checkbox">
        <label for="Study" class="lbl-toggle sidebar-nav-item" tabindex="0">Study</label>
        <div class="collapsible-content subcategories">
        
          
            <!-- 2 depth post -->
            <a class="sidebar-nav-item" href="http://localhost:4000/posts/Study/Short_Books">Short_Books</a>
          
        
          
            <!-- 2 depth post -->
            <a class="sidebar-nav-item" href="http://localhost:4000/posts/Study/Http The Definitive Guide">Http The Definitive Guide</a>
          
        
          
            <!-- 2 depth post -->
            <a class="sidebar-nav-item" href="http://localhost:4000/posts/Study/C_Kim_Pope">C_Kim_Pope</a>
          
        
          
            <!-- 2 depth post -->
            <a class="sidebar-nav-item" href="http://localhost:4000/posts/Study/MSA_Ken_Krueger">MSA_Ken_Krueger</a>
          
        
        </div>
      
    
      
        <input id="Googling" class="toggle" type="checkbox">
        <label for="Googling" class="lbl-toggle sidebar-nav-item" tabindex="0">Googling</label>
        <div class="collapsible-content subcategories">
        
          
            <!-- 2 depth post -->
            <a class="sidebar-nav-item" href="http://localhost:4000/posts/Googling/etc">etc</a>
          
        
          
            <!-- 2 depth post -->
            <a class="sidebar-nav-item" href="http://localhost:4000/posts/Googling/java">java</a>
          
        
          
            <!-- 2 depth post -->
            <a class="sidebar-nav-item" href="http://localhost:4000/posts/Googling/jekyll">jekyll</a>
          
        
          
            <!-- 2 depth post -->
            <a class="sidebar-nav-item" href="http://localhost:4000/posts/Googling/linux">linux</a>
          
        
        </div>
      
    
    <!-- Posts End -->
  </nav>

  <!-- sidebar bottom -->
  <div class="sidebar-item">
    <p>
      &copy; 2020. All rights reserved.
    </p>
  </div>
  <!-- sidebar bottom end -->
</div>

    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title" style="font-weight: normal;">
            <a href="/" title="Home">이기승의 끄적끄적..</a>
            <small>개발 및 잡다한 포스팅</small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="post">
  <h1 class="post-title">HTTP 16 - 국제화</h1>
  <span class="post-date">25 Mar 2020</span>
  
<h3 id="들어가며">들어가며</h3>

<hr />

<ul>
  <li>HTTP가 전세계적으로 사용되기 위해선 여러 이슈들이 존재하지만 그중 주요한 두 가지가 ‘문자집합 인코딩’과 ‘언어 태그’입니다.</li>
  <li>이번 장에선 다음과 같은 내용을 알아볼 것입니다.
    <ul>
      <li>HTTP가 어떻게 여러 언어 문자 체계 및 표준과 상호작용 하는지</li>
      <li>문자 인코딩에 관련한 용어, 기술, 표준</li>
      <li>언어를 위한 표준 명명 체계 및 표준화된 언어 태그가 어떻게 콘텐츠를 서술하는 지</li>
      <li>국제화된 URI의 규칙과 주의사항</li>
      <li>날짜 및 그외 국제화 관련 이슈</li>
    </ul>
  </li>
</ul>

<h3 id="161-국제적인-콘텐츠를-다루기-위해-필요한-http-지원">16.1. 국제적인 콘텐츠를 다루기 위해 필요한 HTTP 지원</h3>

<hr />

<ul>
  <li>
    <p>HTTP의 엔터티 본문은 사실 0, 1로 가득찬 덩어리에 불과합니다.</p>
  </li>
  <li>
    <p>이 0,1의 덩어리들이 각 클라이언트들가 원하는 문자와 언어를 통해 보여지도록 만들어야 합니다.</p>
  </li>
  <li>
    <p>서버는 클라이언트 프로그램에게 보낸 문서의 문자와 언어를 Content-Type charset 매개변수와 Content-Language 헤더를 통해 알려줍니다.</p>
  </li>
  <li>
    <p>클라이언트는 서버에게 자신이 어떤 언어를 이해할 수 있고 선호하는 지 Accept-Charset과 Accept-Language 헤더를 통해 알려줍니다.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Accept-Language: fr, en;q=0.8
Accept-Charset: iso-8859-1, utf-8
</code></pre></div>    </div>
  </li>
  <li>
    <p>위 예시는 프랑스어와 영어를 이해할 수 있으며 각 선호도는 1.0(기본값), 0.8이고, 문자집합은 iso-8859-1과 utf-8을 이해할 수 있다는 뜻입니다.</p>
  </li>
</ul>

<h3 id="162-문자집합과-http">16.2. 문자집합과 HTTP</h3>

<hr />

<h4 id="1621-charset은-글자를-비트로-변환하는-인코딩이다">16.2.1. Charset은 글자를 비트로 변환하는 인코딩이다.</h4>

<ul>
  <li>
    <p>Charset은 특정 문자 체계의 문자 &lt;-&gt; 비트 둘을 연결해주는 것입니다.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>11101010 10110000 10000000 &lt;-&gt; 가
</code></pre></div>    </div>
  </li>
  <li>
    <p>비트 11101010 10110000 10000000를 utf-8로 변환하면 한글 ‘가’가 됩니다.</p>
  </li>
  <li>
    <p>Charset 태그는 MIME 문자집합에 표준화되어 있고, IANA가 관리합니다.</p>
  </li>
  <li>
    <p>Charset은 Content-Type 헤더에 매개변수로 들어갑니다.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Content-Type: text/html; charset=utf8
</code></pre></div>    </div>
  </li>
</ul>

<h4 id="1622-문자집합과-인코딩은-어떻게-동작하는가">16.2.2. 문자집합과 인코딩은 어떻게 동작하는가</h4>

<ul>
  <li>
    <p>비트가 특정 문자체계의 문자로 디코딩 되는 과정은 다음과 같습니다.</p>

    <ol>
      <li>
        <p>비트를 인코딩된 문자집합에 따라 일정 단위로 끊어 문자 코드로 변환합니다.(문자집합에 따라 1글자를 몇 바이트로 계산하는지가 달라지며, 일부 문자집합은 가변적으로 계산하기도 합니다.)</p>

        <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>... 11100001 ... -[iso-8859-6]-&gt; 225
</code></pre></div>        </div>
      </li>
      <li>
        <p>문자 집합에서 해당 문자 코드가 어떤 문자를 갖는지 찾습니다.</p>

        <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>225 -[iso-8859-6]-&gt; ف
</code></pre></div>        </div>
      </li>
    </ol>
  </li>
  <li>
    <p>HTTP는 해당 문자가 어떻게 표현되는지 관심이 없습니다. 단지 비트 데이터와 어떻게 읽혔으면 좋겠는지를 나타내는 헤더를 전송할 뿐입니다.</p>
  </li>
  <li>
    <p>비트를 풀어 글자를 표현하는 것은 사용자의 작업 환경(클라이언트 프로그램 및 운영체제)입니다.</p>
  </li>
</ul>

<h4 id="1623-잘못된-charset은-잘못된-글자를-낳는다">16.2.3. 잘못된 charset은 잘못된 글자를 낳는다.</h4>

<ul>
  <li>PC를 사용하면서 알수 없는 특수문자들로 가득한 깨진 문서들을 본 적이 있을 것입니다. charset이 잘못되면 클라이언트는 이해할 수 없는 이상한 글자를 보게 됩니다.</li>
  <li>문자 코드 225는 어떤 문잡집합에서 쓰이느냐에 따라 다양하게 바뀔 수 있습니다.
    <ul>
      <li>iso-8859-1 서유럽 문자코드에선 á, iso-8859-6 아랍 코드에선 ف , iso-8859-7 그리스어에선 α, iso-8859-8 히브리어에선 ב 를 보여주게 됩니다.</li>
    </ul>
  </li>
</ul>

<h4 id="1624-표준화된-mime-charset-값">16.2.4. 표준화된 MIME charset 값</h4>

<ul>
  <li>특정 문자 인코딩과 특정 코딩된 문자집합의 결합을 MIME charset 이라고 합니다.</li>
  <li>Content-Type 헤더, Accept-Charset 헤더에서 MIME charset을 사용합니다.</li>
  <li>MIME charset은 IANA에서 관리합니다.</li>
  <li>자세한 목록은 <a href="https://www.iana.org/assignments/character-sets/character-sets.xhtml">IANA 링크</a>를 소개해드리겠습니다.</li>
</ul>

<h4 id="1625-content-type-charset-헤더와-meta-태그">16.2.5. Content-Type charset 헤더와 META 태그</h4>

<ul>
  <li>
    <p>웹 서버는 클라이언트에게 MIME charset 태그를 Content-Type 헤더에 담아 보냅니다.</p>

    <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Content-Type : text/html; charset=iso-2022-jp
</code></pre></div>    </div>
  </li>
  <li>
    <p>만약 Content-Type에 명시되지 않았을 경우 HTML 문서라면 HEAD에서 메타태그를 찾습니다.</p>

    <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;HEAD&gt;</span>
    <span class="nt">&lt;META</span> <span class="na">HTTP-EQUIV=</span><span class="s">"Content-Type"</span> <span class="na">CONTENT=</span><span class="s">"text/html; charset=iso-2022-jp"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;META</span> <span class="na">LANG=</span><span class="s">"jp"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;TITLE&gt;</span>Japanese Document<span class="nt">&lt;/TITLE&gt;</span>
<span class="nt">&lt;/HEAD&gt;</span>
<span class="nt">&lt;BODY&gt;</span>
    ...
<span class="nt">&lt;/BODY&gt;</span>        
</code></pre></div>    </div>
  </li>
  <li>
    <p>만약 HTML문서에 해당 메타태그가 없거나 HTML 문서가 아니라면 텍스트를 스캔하며 문자 인코딩을 추측합니다.</p>
  </li>
  <li>
    <p>문자 인코딩 추측에 실패했다면 가장 기본인 iso-8859-1로 간주합니다.</p>
  </li>
</ul>

<h4 id="1626-accept-charset-헤더">16.2.6. Accept-Charset 헤더</h4>

<ul>
  <li>
    <p>클라이언트는 모든 문자집합을 지원하진 않습니다.</p>
  </li>
  <li>
    <p>따라서 클라이언트는 서버에게 자신은 어떤 문자집합을 지원하는지 알려줄 필요가 있습니다.</p>
  </li>
  <li>
    <p>Accept-Charset 헤더를 통해 그 목록과 선호도를 알려줄 수 있습니다.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Accept-Charset: iso-8859-1, utf-8
</code></pre></div>    </div>
  </li>
  <li>
    <p>Content-Charset 이라는 응답헤더는 없다는 것에 주의합시다. 응답헤더는 Content-Type의 charset 매개변수가 이미 존재합니다.</p>
  </li>
</ul>

<h3 id="163-다중언어-문자-인코딩에-대한-지침">16.3. 다중언어 문자 인코딩에 대한 지침</h3>

<hr />

<ul>
  <li>문자 체계에 관련한 용어들은 복잡하고 일관성이 없어 배우기 쉽지 않습니다.</li>
</ul>

<h4 id="1631-문자집합-용어">16.3.1. 문자집합 용어</h4>

<p><strong>문자</strong></p>

<ul>
  <li>알파벳 각 글자, 숫자, 구두점 등 글쓰기의 최소 단위. Unicode에서 각각의 문자마다 유일한 이름을 부여했습니다. 모든 Unicode 는 <a href="https://www.unicode.org/charts/">여기</a>에서 확인 가능합니다.</li>
</ul>

<p><strong>글리프(glyph)</strong></p>

<ul>
  <li>
    <p>하나의 글자를 표현하기 위한 여러 형태. 한 문자라도 다양한 글리프가 가능합니다.</p>

    <p><img src="/public/image/Http The Definitive Guide/glyph.png" alt="glyph.png" /></p>
  </li>
</ul>

<p><strong>코딩된 문자(coded character)</strong></p>

<ul>
  <li>각 글자에 할당된 유일한 숫자(문자 코드). 앞서 살펴본 á의 coded character는 225입니다.</li>
</ul>

<p><strong>코드 공간(coding space)</strong></p>

<ul>
  <li>문자 코드 값으로 사용하려고 계획해 둔 정수의 범위. 1바이트 문자라면 0~255</li>
</ul>

<p><strong>코드 너비(code width)</strong></p>

<ul>
  <li>각 문자 코드의 (고정된 크기의) 비트 개수</li>
</ul>

<p><strong>사용 가능 문자집합(character repertoire)</strong></p>

<ul>
  <li>말 그대로 사용 가능한 문자들의 집합.</li>
</ul>

<p><strong>코딩된 문자집합(coded character set)</strong></p>

<ul>
  <li>사용 가능 문자집합들의 코딩된 문자 집합</li>
</ul>

<p><strong>문자 인코딩 구조(Character Encoding Schemes)</strong></p>

<ul>
  <li>숫자로된 문자코드를 비트단위로 인코딩/디코딩 하는 알고리즘.</li>
</ul>

<h4 id="1632-charset은-형편없는-이름이다">16.3.2. ‘Charset’은 형편없는 이름이다.</h4>

<ul>
  <li>MIME Charset 태그는 사실 문자 집합자체를 의미하는 것이 아닙니다. 비트를 고유한 문자 코드로 맵핑하는 알고리즘의 이름입니다. charset태그에 쓰인 utf8은 utf8 문자 집합자체를 뜻하는게 아니라 비트를 utf8 문자코드로 맵핑하는 알고리즘의 이름입니다.</li>
  <li>MIME Charset 태그는 ‘문자 인코딩 구조’와 ‘코딩된 문자집합’ 개념을 합친것인데 사실 용어가 애매해지기 시작합니다.</li>
  <li>이미 ‘문자 인코딩 구조’와 ‘코딩된 문자집합’ 두 개념에 대한 표준이 각각 존재합니다.</li>
  <li>charset과 관련해선 각 용어들의 의미가 애매하니 charset 관련 문서를 심도있게 다뤄야 한다면 주의해야 합니다.</li>
</ul>

<h4 id="1633-문자">16.3.3. 문자</h4>

<ul>
  <li>문자는 쓰기의 기본 단위입니다.</li>
  <li>여기서 말하는 문자는 글꼴이나 스타일에 독립적인 유니크하고 추상화된 의미의 문자입니다.</li>
  <li>사람의 필기체에 따라, 운영체제의 글꼴에 따라 한 문자가 다양한 형태로 표현되지만 모두 같은 문자입니다.</li>
</ul>

<h4 id="1634-글리프glyphs-연자ligatures-그리고-표현-형태">16.3.4. 글리프(glyphs), 연자(ligatures) 그리고 표현 형태</h4>

<ul>
  <li>글리프란 한 문자를 표현하는 다양한 형태입니다. 필기체에 따라, 글꼴에 따라 한 문자에 대해 다양한 글리프가 존재합니다.</li>
  <li>연자(ligatures)는 쉽게말해 흘려쓰기입니다. 연속된 두 글자를 한 글자처럼 흘려서 쓰는 그런 형태를 연자(ligatures)라고 합니다.</li>
</ul>

<h4 id="1635-코딩된-문자집합coded-character-set">16.3.5. 코딩된 문자집합(Coded Character Set)</h4>

<ul>
  <li>코딩된 문자집합은 각 정수 값들을 하나의 문자에 대응시킵니다.</li>
  <li>몇몇 코딩된 문자집합들을 알아보겠습니다.</li>
</ul>

<p><strong>US-ASCII: 모든 문자집합의 어머니</strong></p>

<ul>
  <li>1968년 ‘정보교환을 위한 미국 표준 코드’로 표준화된 문자집합입니다.</li>
  <li>0~127까지만 사용해 코드 공간 전체를 표현하는데 7비트뿐이면 되는 문자집합입니다.</li>
</ul>

<p><strong>iso-8859</strong></p>

<ul>
  <li>유럽의 글자를 표현하기 위한 US-ASCII 의 8비트 확대집합들입니다.</li>
  <li>8비트 만으론 모든 유럽의 글자를 표현할 수 없어 지역에따라 다른 iso-8859를 제공합니다.
    <ul>
      <li>iso-8859-1 : 서유럽어</li>
      <li>iso-8859-2 : 중앙 및 동유럽어</li>
      <li>iso-8859-3 : 남유럽어</li>
      <li>iso-8859-4 : 북유럽어</li>
      <li>iso-8859-5 : 키릴어</li>
      <li>iso-8859-6 : 아랍어</li>
      <li>iso-8859-7 : 그리스어</li>
      <li>iso-8859-8 : 히브리어</li>
      <li>iso-8859-9 : 터키어</li>
      <li>iso-8859-10 : 노르딕어</li>
      <li>iso-8859-15 : 새로운 유로 통화 문자를 포함하기 위한 iso-8859-1의 변형</li>
    </ul>
  </li>
</ul>

<p><strong>JIS X 0201</strong></p>

<ul>
  <li>ASCII를 일본어 가타카나 반각문자로 확장한 문자집합입니다.</li>
  <li>JIS Roman 이라고도 불립니다.</li>
  <li>JIs = Japanese Industrial Standard</li>
</ul>

<p><strong>JIS X 0208 과 JIS X 0212</strong></p>

<ul>
  <li>JIS X 0201 에서 확장한 가타카나 반각문자는 63개의 표음문자 뿐이었습니다.</li>
  <li>하지만 일본엔 훨씬 많은 표의문자들이 존재합니다.</li>
  <li>JIS X 0208은 일본식 한자 6,879개를 추가한 최초의 멀티 바이트 문자집합입니다.</li>
  <li>JIS X 0212는 6,607개의 문자를 추가했습니다.</li>
</ul>

<p><strong>UCS</strong></p>

<ul>
  <li>UCS(Universal Character Set)은 전 세계의 모든 글자를 하나의 문자집합으로 통합하려는 표준입니다.</li>
  <li>UCS는 iso-10646 으로 정의되며</li>
  <li>우리가 잘 알고있는 Unicode는 UCS 표준을 따르는 상업적인 컨소시엄입니다.</li>
</ul>

<h4 id="1636-문자-인코딩-구조character-encoding-schemes">16.3.6. 문자 인코딩 구조(Character Encoding Schemes)</h4>

<ul>
  <li>문자 인코딩 구조란 문자 코드를 비트로, 비트를 문자 코드로 바꾸는 알고리즘입니다.</li>
  <li>문자 인코딩 구조는 아래 세 종류로 구분할 수 있습니다.
    <ul>
      <li>고정폭 : 각 문자를 고정된 길이의 비트로 표현합니다. 빠르지만 공간을 낭비할 수 있습니다.</li>
      <li>가변폭(비모달) : 문자 코드번호 마다 다른 길이의 비트를 사용합니다. 자주 사용되는 문자의 비트를 줄일 수 있고 추가적인 국제 문자들을 여러 바이트로 표현해 1바이트로만 표현하던 문자집합과의 호환성을 유지할 수 있습니다.</li>
      <li>가변폭(모달) : 모달 인코딩은 여러 가지 문자집합간의 전환을 위해 사용되는 인코딩입니다. 다른 모드로 전환하기 위해 ‘escape’ 패턴을 사용합니다. 복잡한 만큼 처리하는데엔 가장 많은 시간이 걸립니다.</li>
    </ul>
  </li>
  <li>몇 가지 인코딩 scheme을 알아보겠습니다.</li>
</ul>

<p><strong>8비트</strong></p>

<ul>
  <li>각 문자코드를 8비트 값으로 인코딩 합니다. 256개 문자 범위 안에서만 가능합니다.</li>
</ul>

<p><strong>UTF-8</strong></p>

<ul>
  <li>
    <p>utf-8은 UCS를 위해 설계된 문자 인코딩 scheme 입니다.</p>
  </li>
  <li>
    <p>비모달 가변길이 인코딩을 사용합니다.</p>
  </li>
  <li>
    <p>UTF-8에선 1~3바이트로 문자들이 표현됩니다.</p>

    <ul>
      <li>
        <p>인코딩된 첫 바이트의 첫 비트가 0이면 1바이트의 문자입니다. 반대로 1바이트 문자는 첫 비트가 0으로 인코딩 됩니다. 첫 비트가 0이고 나머지 7비트로 문자가 표현되기 때문에 US-ASCII와 호환됩니다.</p>

        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>0xxxxxxx 
01100001 -&gt; 61 -&gt; a
</code></pre></div>        </div>
      </li>
      <li>
        <p>인코딩된 첫 바이트가 110으로 시작하면 2바이트 문자입니다. 이후 바이트는 10으로 시작합니다.</p>

        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>110xxxxx 10xxxxxx
11000010 10100101 -&gt; 194 165 -&gt; ¥
</code></pre></div>        </div>
      </li>
      <li>
        <p>인코딩된 첫 바이트가 1110이면 3바이트 문자입니다. 이후 바이트는 10으로 시작합니다.</p>

        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1110xxxx 10xxxxxx 10xxxxxx
11101010 10110000 10000000 -&gt; 234 176 128 -&gt; 가
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
</ul>

<p><strong>iso-2022-jp</strong></p>

<ul>
  <li>iso-2022-jp는 일본어 인터넷 문서를 위해 널리 사용되는 인코딩입니다.</li>
  <li>128보다 작은 값으로만 이루어진 가변길이 모달 인코딩입니다.</li>
  <li>자세한 설명은 생략합니다.</li>
</ul>

<p><strong>euc-jp</strong></p>

<ul>
  <li>또 하나의 인기있는 일본어 인코딩 입니다.</li>
  <li>euc는 Extended Unix Code의 약자로, 유닉스에서 아시아 문자를 지원하기 위해 처음 만들어진 문자 인코딩입니다.</li>
  <li>euc-jp는 비모달 가변 인코딩입니다.</li>
  <li>역시 자세한 설명은 생략합니다.</li>
</ul>

<p><strong>euc-kr</strong></p>

<ul>
  <li>euc-kr은 한글 인터넷 문서를 위해 사용되는 가변길이 인코딩입니다.</li>
  <li>KS X 1003, KS X 1001 두가지 문자 집합을 지원합니다.
    <ul>
      <li>KS X 1003은 US-ASCII의 백슬래쉬를 원화 기호로 치환한 것일 뿐입니다.</li>
      <li>KS X 1001은 2바이트로 인코딩된 한글, 한자 및 특수문자 집합입니다.</li>
      <li>KS X 1001은 2,350자를 구현하고 있어 사실 모든 한글을 표현하기에 부족합니다.</li>
      <li>때문에 한글 ‘채움 문자(fill code, 0xA4 와 0xD4)’를 이용해 초성, 중성, 종성을 합쳐 한 단어를 표현가능하게 합니다.</li>
    </ul>
  </li>
</ul>

<h3 id="164-언어-태그와-http">16.4. 언어 태그와 HTTP</h3>

<hr />

<ul>
  <li>언어 태그란 각 언어에 이름을 붙인 짧고 표준화된 문자열 입니다. (영어 - en, 한국어 - ko, 프랑스어 - fr)</li>
  <li>언어 태그는 표준 언어 뿐 아니라 지역에 따른 언어나(en-US, en-GB) 안 국가내 방언(zh-xiang)을 표현할 수도 있습니다.</li>
</ul>

<h4 id="1641-content-language-헤더">16.4.1. Content-Language 헤더</h4>

<ul>
  <li>
    <p>Content-Language 헤더는 언어 태그를 이용해 해당 콘텐츠가 어떤 언어 사용자를 대상으로 하는지 서술합니다.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Content-Language: ko
</code></pre></div>    </div>
  </li>
  <li>
    <p>Content-Language 헤더는 텍스트 문서뿐 아니라 오디오, 동영상 등 특정 언어 사용자를 구분해야 하는 곳이면 어디든 사용할 수 있습니다.</p>
  </li>
  <li>
    <p>Content-Language에 여러 언어를 지정할 수도 있습니다.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Content-Launguage: ko, en
</code></pre></div>    </div>
  </li>
</ul>

<h4 id="1642-accept-language-헤더">16.4.2. Accept-Language 헤더</h4>

<ul>
  <li>클라이언트는 Accept-Launguage 헤더를 통해 서버에게 자신이 어떤 언어를 선호하는 지 알려줄 수 있습니다.</li>
  <li>서버가 언어별로 다른 리소스를 제공해줄 수 있을 때 유용합니다.</li>
</ul>

<h4 id="1643-언어-태그의-종류">16.4.3. 언어 태그의 종류</h4>

<ul>
  <li>언어 태그는 일반적인 언어 뿐 아니라 아래와 같이 다양한 언어에 사용될 수 있습니다.
    <ul>
      <li>일반적인 언어 : ko, en, fr, es</li>
      <li>특정 국가의 언어 : en-GB, en-US</li>
      <li>방언 : no-bok (노르웨이의 book language)</li>
      <li>지방어 : sgn-US-MA (마서스 비니어드 섬의 수화)</li>
      <li>그외 다른 언어의 변형이 아닌 표준 언어 : i-navajo (미국 인디언 중 나바호족)</li>
      <li>비표준 언어 : x-snowboarder-slang (스노우 보드 타는 사람들 슬랭)</li>
    </ul>
  </li>
</ul>

<h4 id="1644-서브태그">16.4.4. 서브태그</h4>

<ul>
  <li>
    <p>언어 태그는 ‘ - ‘으로 분리된 하나 이상의 서브태그로 이루어집니다.</p>

    <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sgn-US-MA (마서스 버니어드 섬의 수화)
</code></pre></div>    </div>

    <ul>
      <li>첫 번째 서브태그는 ‘주 서브태그’라고 불리며 표준화 되어 있습니다. a~z 글자만 포함합니다.</li>
      <li>두 번째 서브태그는 선택적이며 자신만의 이름 표준을 따릅니다. 알파벳, 숫자를 포함하며 최대 8자입니다.</li>
      <li>세 번째부터의 서브 태그는 따로 표준이 등록되어있지 않습니다. 알파벳, 숫자를 포함하며 최대 8자입니다.</li>
    </ul>
  </li>
</ul>

<h4 id="1645-대소문자의-구분-및-표현">16.4.5. 대소문자의 구분 및 표현</h4>

<ul>
  <li>모든 태그는 대소문자를 구분하지 않습니다.</li>
  <li>다만 관용적으로 언어를 나타낼땐 소문자, 국가를 나타낼땐 대문자를 사용합니다.
    <ul>
      <li>‘fr’은 프랑스어로 분류되는 모든 언어를 의미하고, ‘FR’은 국가 프랑스를 의미합니다.</li>
    </ul>
  </li>
</ul>

<h4 id="1646-iana-언어-태그-등록">16.4.6. IANA 언어 태그 등록</h4>

<ul>
  <li>첫 번째와 두 번째 서브 태그는 여러 표준 문서와 조직에 의해 정의됩니다.</li>
  <li>IANA에선 RFC 3066 규칙에 따라 표준 언어 태그의 목록을 관리합니다. (<a href="https://www.iana.org/assignments/language-subtag-registry/language-subtag-registry">https://www.iana.org/assignments/language-subtag-registry/language-subtag-registry</a>)</li>
  <li>다음 3개의 절에선 RFC 3066의 언어태그 규칙을 소개해 드리겠습니다.</li>
</ul>

<h4 id="1647-첫-번째-서브태그--이름공간">16.4.7. 첫 번째 서브태그 : 이름공간</h4>

<ul>
  <li>첫 번째 서브태그엔 다음과 같은 규칙이 있습니다.
    <ul>
      <li>두 글자라면, ISO-639와 ISO-639-1의 표준 언어 코드입니다.</li>
      <li>세 글자라면, ISO-639-2 표준과 확장의 표준 언어 코드입니다.</li>
      <li>‘i’ 라면, IANA에 등록된 언어 코드 입니다.</li>
      <li>‘x’라면, 특정 개인이나 집단 전용의 비표준 확장 서브태그 입니다.</li>
    </ul>
  </li>
  <li><a href="https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes">https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes</a>에서 ISO-639-1, 2의 목록을 확인할 수 있습니다.</li>
</ul>

<h4 id="1648-두-번째-서브태그--이름공간">16.4.8. 두 번째 서브태그 : 이름공간</h4>

<ul>
  <li>두 번째 서브태그엔 다음과 같은 규칙이 있습니다.
    <ul>
      <li>두 글자라면, ISO-3166에 정의된 국가/지역입니다.</li>
      <li>3~8 글자라면, IANA에 등록된 것입니다.</li>
      <li>한 글자라면, 뭔가 잘못된 것입니다.(??? 서양식 조크인가 봅니다.)</li>
    </ul>
  </li>
  <li><a href="https://en.wikipedia.org/wiki/List_of_ISO_3166_country_codes">https://en.wikipedia.org/wiki/List_of_ISO_3166_country_codes</a>에서 ISO-3166 목록을 확인할 수 있습니다.</li>
</ul>

<h4 id="1649-나머지-서브태그--이름공간">16.4.9. 나머지 서브태그 : 이름공간</h4>

<ul>
  <li>세 번째와 그 이후의 서브태그는 8자 이하의 알파벳, 숫자로만 이루어져야 한다는것을 제외하면 다른 규칙은 없습니다.</li>
</ul>

<h4 id="16410-선호-언어-설정하기">16.4.10. 선호 언어 설정하기</h4>

<ul>
  <li>브라우저에서 선호 언어를 설정할 수 있습니다.</li>
</ul>

<h3 id="165-국제화된-uri">16.5. 국제화된 URI</h3>

<hr />

<ul>
  <li>책이 작성되던 때의 URI는 오직 US-ASCII만 가능했습니다.</li>
  <li><strong>하지만 현재는 RFC 3986에서 UTF-8 문자를 URI에 이용하는 방법을 명시해 다양한 문자를 문제없이 사용할 수 있습니다.</strong></li>
</ul>

<h4 id="1651-국제적-가독성-vs-의미-있는-문자들">16.5.1. 국제적 가독성 vs 의미 있는 문자들</h4>

<ul>
  <li>과거의 URI 설계자들은 URI가 어떤 환경에서도 조작하고 공유하기 쉬웠으면 했고, 동시에 모두가 사용하기 쉽고 기억하기 쉬웠으면 했습니다.</li>
  <li>하지만 둘은 충돌을 일으켰습니다.</li>
  <li>조작하고 공유하기 쉽게 하기 위해 US-ASCII 문자셋만을 URI에 허용했는데 이는 비영어권 사람들에겐 매우 불편한 URI가 되었습니다.</li>
  <li>하지만 URI 설계자들은 모든 문자를 포함해 의미있는 URI를 만드는 것 보다 가독성과 공유 가능성에 더 무게를 두어 US-ASCII 문자셋만 허용하게 됐었습니다.(과거 얘기입니다.)</li>
</ul>

<h4 id="1652-uri에서-사용될-수-있는-문자들">16.5.2. URI에서 사용될 수 있는 문자들</h4>

<ul>
  <li>URI에서 사용될 수 있는 문자들은 US-ASCII의 문자들 중 아래와 같은 것들입니다.
    <ul>
      <li>예약되지 않은 문자 : [  A~Z  a~z  0~9  -  _  .   !  ~  *  ‘  (  )  ]</li>
      <li>예약된 문자 : [  ;  /  ?  :  @  &amp;  =  +  $  ,  ]</li>
      <li>이스케이프 : [  % <HEX> <HEX>  ]</HEX></HEX></li>
    </ul>
  </li>
</ul>

<h4 id="1653-이스케이핑과-역이스케이핑unescaping">16.5.3. 이스케이핑과 역이스케이핑(unescaping)</h4>

<ul>
  <li>
    <p>URI에선 예약된 문자나 지원하지 않는 문자들을 표현하기위해 ‘이스케이핑’을 사용합니다.</p>
  </li>
  <li>
    <p>이스케이핑은 %뒤에 해당 문자의 16진수를 붙여 표현하는 것입니다.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>' ' (공백) -&gt; 32 (US-ASCII) -&gt; %20 (Escaping)
</code></pre></div>    </div>
  </li>
  <li>
    <p>이런 이스케이핑을 퍼센트 인코딩이라고도 부릅니다.</p>
  </li>
  <li>
    <p>이스케이핑된 URI를 받으면 반대로 언이스케이핑을 할 수 있습니다.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%20 (Escaping) -&gt; 32 (US-ASCII) -&gt; ' ' (공백)
</code></pre></div>    </div>
  </li>
  <li>
    <p>언이스케이핑을 두 번 하지 않도록 주의합시다.</p>
  </li>
</ul>

<h4 id="1654-국제-문자들을-이스케이핑-하기">16.5.4. 국제 문자들을 이스케이핑 하기</h4>

<ul>
  <li>
    <p>US-ASCII에 없는 국제 문자들을 위와 같은 방법으로 이스케이핑 할 수 있습니다.</p>
  </li>
  <li>
    <p>책이 쓰여질 시점엔 이스케이핑 값이 US-ASCII인 0~127에 들어야 했지만 지금은 아닙니다.</p>
  </li>
  <li>
    <p>UTF-8 인코딩 체계를 통해 모든 문자를 이스케이핑 할 수 있습니다.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%EA%B0%80 -&gt; 234 176 128 (UTF-8) -&gt; 가
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="166-기타-고려사항">16.6. 기타 고려사항</h3>

<hr />

<h4 id="1661-헤더와-명세에-맞지-않는-데이터">16.6.1. 헤더와 명세에 맞지 않는 데이터</h4>

<ul>
  <li>HTTP 헤더는 반드시 US-ASCII 문자집합으로 이루어져야 합니다.</li>
  <li>간혹 US-ASCII 문자집합을 벗어나는 문자로 헤더를 구성하는 애플리케이션이 있으니 주의해야 합니다.</li>
</ul>

<h4 id="1662-날짜">16.6.2. 날짜</h4>

<ul>
  <li>HTTP 명세에선 GMT 날짜 형식을 명확히 정의하고 있습니다.</li>
  <li>하지만 역시 날자 형식을 지키지 않는 애플리케이션이 있으니 주의해야 합니다.</li>
</ul>

<h4 id="1663-도메인-이름">16.6.3. 도메인 이름</h4>

<ul>
  <li>
    <p>Internationalizing Domain Name 을 이용해 다양한 문자를 도메인 이름에 포함 시킬 수 있습니다.</p>
  </li>
  <li>
    <p>이는 웹브라우저들이 지원하는 punycode를 통해 가능합니다.</p>
  </li>
  <li>
    <p>punycode란 유니코드 문자열을 호스트명에서 사용가능한 문자로 바꾸는 방법으로 RFC 3492에 정의되어 있습니다.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>한글.com -&gt; xn--bj0bj06e.com
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="마치며">마치며</h3>

<hr />

<p>간단한 내용이라 어렵지 않게 읽은 것 같습니다.</p>

</div>

<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/posts/study/short_books/OOP_Truth_Misunderstanding/">
            객체지향의 사실과 오해(작성중)
            <small>22 May 2020</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/posts/googling/etc/Javascript-run-async/">
            Javascript 실행 과정 및 비동기
            <small>15 May 2020</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/posts/googling/etc/WebServer-WAS/">
            Web Server와 WAS의 차이점
            <small>14 May 2020</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>

      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>
  </body>
</html>
