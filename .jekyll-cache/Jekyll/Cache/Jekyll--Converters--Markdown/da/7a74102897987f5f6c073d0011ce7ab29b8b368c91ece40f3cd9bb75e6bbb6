I"—$
<ul>
  <li>Â ì´ë¯¸ ë§ì€ í¬ìŠ¤íŒ…ë“¤ì´ JVM ë©”ëª¨ë¦¬ êµ¬ì¡°ë¥¼ ì„¤ëª…í•˜ê³  ìˆìŠµë‹ˆë‹¤. ë³¸ í¬ìŠ¤íŒ…ì€ ì €ì˜ ì´í•´ë¥¼ ë•ê³ ì ë‚¨ê¸°ëŠ” í¬ìŠ¤íŒ…ì…ë‹ˆë‹¤.</li>
  <li>Â ë§ì€ ê³³ì„ ì°¸ê³ í–ˆê³  ë‚´ìš© ì—­ì‹œ ê±°ì§„ ë¹„ìŠ·í•˜ì—¬ ë”°ë¡œ ì¶œì²˜ë¥¼ ë‚¨ê¸°ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ë‹¤ë§Œ, PC Registerì™€ Native Method Stackì˜ ê²½ìš° í¬ìŠ¤íŒ… ë§ˆë‹¤ ë‚´ìš©ì´ ìƒì´í•´ì„œ jvm ê³µì‹ ë¬¸ì„œë¥¼ ì°¸ê³ í–ˆìŠµë‹ˆë‹¤.</li>
</ul>

<p class="p_img"><img src="/public/image/Java/jvm-architecture.png" alt="jvm-architecture.png" /><small>ì¶œì²˜ :Â https://javatutorial.net/jvm-explained</small></p>

<ul>
  <li>Â ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„  ìœ„ì˜ ë‹¤ì´ì–´ê·¸ë¨ì¤‘ Runtime Data Areaì— ëŒ€í•´ ì•Œì•„ë´…ë‹ˆë‹¤.</li>
  <li>Â Runtime Areaì—ëŠ” í¬ê²Œ ë‹¤ì„¯ê°€ì§€ ì˜ì—­ì´ ì¡´ì¬í•©ë‹ˆë‹¤.
    <ul>
      <li>Heap Area</li>
      <li>Method Area</li>
      <li>Stack Area</li>
      <li>PC Register</li>
      <li>Native Method Stacks</li>
    </ul>
  </li>
</ul>

<h3 id="heap-area">Heap Area</h3>

<hr />

<ul>
  <li>Â í”íˆ ì•Œê³ ìˆëŠ” ê°ì²´ ì¸ìŠ¤í„´ìŠ¤ë“¤ì´ ì €ì¥ë©ë‹ˆë‹¤.</li>
  <li>Â JVMì´ ì‹œì‘ë  ë•Œ ìƒì„±ë©ë‹ˆë‹¤.</li>
  <li>Â í•˜ë‚˜ì˜ JVMì— í•˜ë‚˜ì˜ Heap Areaê°€ ì¡´ì¬í•˜ë©°, JVMì•ˆì˜ ì—¬ëŸ¬ ìŠ¤ë ˆë“œê°€ ê³µìœ í•˜ëŠ” ì˜ì—­ì…ë‹ˆë‹¤.
    <ul>
      <li>Â thread-safe í•˜ì§€ ì•Šë‹¤ê³  í•©ë‹ˆë‹¤.</li>
      <li>Â ë©€í‹° ìŠ¤ë ˆë“œ í™˜ê²½ì—ì„œ ì‘ì—…í•œë‹¤ë©´ ì£¼ì˜í•´ì•¼ í•©ë‹ˆë‹¤.</li>
    </ul>
  </li>
  <li>Â GCì˜ ëŒ€ìƒì´ ë˜ë©°, GCì˜ ëŒ€ìƒì´ ëëŠ”ì§€ ì•ˆëëŠ”ì§€ì— ë”°ë¼ ì•„ë˜ì™€ ê°™ì´ ë‚˜ë‰©ë‹ˆë‹¤.
    <ul>
      <li>Young Generation
        <ul>
          <li>Eden</li>
          <li>Survivor1</li>
          <li>Survivor2</li>
        </ul>
      </li>
      <li>Old Generation
        <ul>
          <li>Tenured</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h3 id="method-area">Method Area</h3>

<hr />

<ul>
  <li>Â ë¡œë“œí•œ class ì™€ ê´€ë ¨í•œ ë°ì´í„°ë“¤ì´ ì €ì¥ë©ë‹ˆë‹¤.
    <ul>
      <li>Â JVMì´ ì‹œì‘ë  ë•Œ ìƒì„±ë©ë‹ˆë‹¤.</li>
      <li>Â í´ë˜ìŠ¤ì˜ ë©”ì„œë“œì— ê´€í•œ ì •ë³´ë“¤ì´ ì €ì¥ë©ë‹ˆë‹¤.</li>
      <li>Â static ë³€ìˆ˜(class ë³€ìˆ˜, ë©¤ë²„ ë³€ìˆ˜), static ë©”ì„œë“œë“¤ì´ ì´ê³³ì— ì €ì¥ë©ë‹ˆë‹¤.
        <ul>
          <li>Â static ë³€ìˆ˜ëŠ” í•œ classì˜ ì¸ìŠ¤í„´ìŠ¤ë“¤ì´ ëª¨ë‘ ê³µìœ í•˜ê¸° ë•Œë¬¸ì— class ë³€ìˆ˜ë¼ê³ ë„ í•©ë‹ˆë‹¤.</li>
          <li>Â static ë³€ìˆ˜ëŠ” static ì´ˆê¸°í™” ë¸”ëŸ­ì—ì„œ ì´ˆê¸°í™”ë˜ëŠ”ë°, static ë¸”ëŸ­ì€ í´ë˜ìŠ¤ê°€ ë¡œë”©ë ë•Œ ìƒì„±ë©ë‹ˆë‹¤. ì¦‰, í•œ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ê°€ ìƒì„±ë˜ì§€ ì•Šë”ë¼ë„ í•´ë‹¹ classì˜ static ë³€ìˆ˜ëŠ” ìƒì„±ë©ë‹ˆë‹¤.</li>
          <li>Â static ë©”ì„œë“œëŠ” ê°ì²´ë¥¼ ë§Œë“¤ì§€ ì•Šì•„ë„ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ë°, í´ë˜ìŠ¤ë¥¼ ë¡œë“œí•  ë•Œ static ë©”ì„œë“œë¥¼ ë¯¸ë¦¬ ë¡œë“œí•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>Heapë©”ëª¨ë¦¬ì˜ ì¼ë¶€ë¡œ Permanent Generationë¼ê³ ë„ ë¶ˆë¦½ë‹ˆë‹¤.</li>
</ul>

<h3 id="stack-area">Stack Area</h3>

<hr />

<ul>
  <li>Â í•˜ë‚˜ì˜ ìŠ¤ë ˆë“œì— í•˜ë‚˜ì˜ ìŠ¤íƒì´ í• ë‹¹ë©ë‹ˆë‹¤.
    <ul>
      <li>Â ìŠ¤ë ˆë“œê°€ ìƒì„±ë  ë•Œ í•˜ë‚˜ì˜ Stackì´ ìƒì„±ë©ë‹ˆë‹¤.</li>
      <li>Â í¬ê¸°ë¥¼ ê³ ì •ì ìœ¼ë¡œ ì¤„ ìˆ˜ë„ ìˆê³ , ë™ì ìœ¼ë¡œ í• ë‹¹ë˜ê²Œ í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.</li>
    </ul>
  </li>
  <li>Â í•˜ë‚˜ì˜ ë©”ì†Œë“œë¥¼ í˜¸ì¶œ í•  ë•Œë§ˆë‹¤ ë©”ì†Œë“œì˜ frameì„ ìŠ¤íƒì— ì¶”ê°€í•©ë‹ˆë‹¤. ë©”ì†Œë“œ frameí¬ê¸°ëŠ” í•´ë‹¹ ë©”ì†Œë“œì—ì„œ ì‚¬ìš©í•  ë³€ìˆ˜ë“¤ì˜ í¬ê¸°ë¥¼ ê³„ì‚°í•´ ì»´íŒŒì¼ì‹œ ë¯¸ë¦¬ ì‚°ì •ë©ë‹ˆë‹¤. ë©”ì†Œë“œê°€ ì¢…ë£Œë˜ë©´ í”„ë ˆì„ì´ ì œê±° ë©ë‹ˆë‹¤.  frameì„ í†µí•´ í”íˆ ì•Œê³  ìˆëŠ” ë³€ìˆ˜ë“¤ì˜ scopeê°€ ì •í•´ì§‘ë‹ˆë‹¤.</li>
  <li>Â ì§€ì—­ ë³€ìˆ˜ë“¤ì´ ì €ì¥ë©ë‹ˆë‹¤. ì§€ì—­ë³€ìˆ˜ë“¤ì€ Heapì— í• ë‹¹ëœ ì¸ìŠ¤í„´ìŠ¤ ì°¸ì¡° ì£¼ì†Œë¥¼ ê°–ê³  ìˆìŠµë‹ˆë‹¤.</li>
  <li>Â ì›ì‹œ íƒ€ì…(byte, short, int, long, double, float, boolean, char) ë³€ìˆ˜ê°€ â€˜ê°’ê³¼ í•¨ê»˜â€™ ì €ì¥ë©ë‹ˆë‹¤.
    <ul>
      <li>
        <p>Â ê¸°ë³¸ì ìœ¼ë¡œ ê°’ê³¼ í•¨ê»˜ ì €ì¥ë˜ê¸° ë•Œë¬¸ì— ì›ì‹œíƒ€ì…ì€ null ì„ ê°–ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì•„ë˜ êµ¬ë¬¸ì€ ì»´íŒŒì¼ ê³¼ì •ì—ì„œ ì—ëŸ¬ê°€ ë‚©ë‹ˆë‹¤.</p>

        <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
</code></pre></div>        </div>
      </li>
      <li>
        <p>Â ë°˜ë©´, ì›ì‹œíƒ€ì…ì˜ Wrapper í´ë˜ìŠ¤ëŠ” ë³€ìˆ˜ëª…ì€ Stackì—, ê°’ì€ Heapì— ì €ì¥ë˜ê¸° ë•Œë¬¸ì— nullê°’ì„ ì„ ì–¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

        <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Integer</span> <span class="n">a</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
</ul>

<h3 id="stack-ë©”ëª¨ë¦¬-heap-ë©”ëª¨ë¦¬-ì‹œê°í™”">Stack ë©”ëª¨ë¦¬, Heap ë©”ëª¨ë¦¬ ì‹œê°í™”</h3>

<hr />

<script async="" class="speakerdeck-embed" data-id="9780d352c95f4361bd8c6fa164554afc" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<p class="p_img"> <small>ì¶œì²˜ :Â https://deepu.tech/memory-management-in-jvm/</small> </p>

<ul>
  <li>Â ì½”ë“œê°€ ì§„í–‰ë¨ì— ë”°ë¼ Stackë©”ëª¨ë¦¬ì™€ Heapë©”ëª¨ë¦¬ê°€ ì–´ë–»ê²Œ ë³€í•˜ëŠ”ì§€ ì‹œê°í™” í•˜ê³  ì‹¶ì—ˆëŠ”ë° ì¢‹ì€ ì°¸ê³ ìë£Œê°€ ìˆì–´ì„œ ê°€ì ¸ì™”ìŠµë‹ˆë‹¤.</li>
  <li>Â ì œ ë¸”ë¡œê·¸ê°€ í­ì´ ì¢ì•„ ìŠ¬ë¼ì´ë“œê°€ ì˜ ì•ˆë³´ì…ë‹ˆë‹¤. ìœ„ ìŠ¬ë¼ì´ë“œ ì œëª© ë¶€ë¶„ ë§í¬ í´ë¦­í•˜ì…”ì„œ ë³´ëŠ”ê±¸ ì¶”ì²œí•´ë“œë¦½ë‹ˆë‹¤.</li>
</ul>

<h3 id="pc-register">PC Register</h3>

<hr />

<ul>
  <li>Â PC = Program Counter</li>
  <li>
    <p>Â í•œ ìŠ¤ë ˆë“œì— í•˜ë‚˜ì˜ PC Registerê°€ ìƒì„±ë©ë‹ˆë‹¤.</p>

    <blockquote>
      <p>Each Java Virtual Machine thread has its own <code class="highlighter-rouge">pc</code> (program counter) register</p>
    </blockquote>
  </li>
  <li>
    <p>Â <strong>í˜„ì¬ ìˆ˜í–‰ì¤‘ì¸ JVM ëª…ë ¹ ì£¼ì†Œê°€ ì €ì¥ë©ë‹ˆë‹¤.</strong> ë‹¨, í˜„ì¬ ìˆ˜í–‰ì¤‘ì¸ê²Œ ìë°” í”„ë¡œê·¸ë¨ì´ ì•„ë‹Œ ì™¸ë¶€ Native í”„ë¡œê·¸ë¨ì´ë¼ë©´ ì €ì¥ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>

    <blockquote>
      <p>If that method is <code class="highlighter-rouge">not native</code>, the pc register contains the address of the Java Virtual Machine <code class="highlighter-rouge">instruction currently being executed.</code> If the method currently being executed by the thread is <code class="highlighter-rouge">native</code>, the value of the Java Virtual Machineâ€™s pc register is <code class="highlighter-rouge">undefined.</code></p>
    </blockquote>

    <p><small>ì¶œì²˜ :Â https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-2.html#jvms-2.5.1</small></p>
  </li>
</ul>

<h3 id="native-method-stack">Native Method Stack</h3>

<hr />

<ul>
  <li>
    <p>Â <strong>Java ì´ì™¸ì˜ ì–¸ì–´ë¡œ ì‘ì„±ëœ í”„ë¡œê·¸ë¨, API ë“±ì„ ìš´ìš©í•˜ê¸° ìœ„í•´ í•„ìš”í•œ ì˜ì—­</strong>ì…ë‹ˆë‹¤. (ì™¸ë¶€ í”„ë¡œê·¸ë¨ë“¤ì´ ì£¼ë¡œ Cì–¸ì–´ë¡œ ì‘ì„±ë˜ì–´ì„œ â€˜C stacksâ€™ë¼ê³ ë„ ë¶ˆë¦¬ëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤.)</p>

    <blockquote>
      <p>Â An implementation of the Java Virtual Machine may use conventional stacks, <code class="highlighter-rouge">colloquially called "C stacks,"</code> <code class="highlighter-rouge">to support native methods</code> (methods written in a language other than the Java programming language)</p>
    </blockquote>
  </li>
  <li>
    <p>Â native ë©”ì„œë“œë¥¼ ì§€ì›í•˜ì§€ ì•ŠëŠ” JVMì€ Native Method Stackì„ ê°–ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

    <blockquote>
      <p>Â Java Virtual Machine implementations that <code class="highlighter-rouge">cannot load native methods</code> and that do not themselves rely on conventional stacks <code class="highlighter-rouge">need not supply native method stacks.</code></p>
    </blockquote>
  </li>
  <li>
    <p>Â Stack ë©”ëª¨ë¦¬ì²˜ëŸ¼ ì“°ë ˆë“œ ë§ˆë‹¤ í• ë‹¹ë˜ë©°, ì“°ë ˆë“œê°€ ìƒì„±ë  ë•Œ ìƒì„±ë©ë‹ˆë‹¤.</p>

    <blockquote>
      <p>Â native method stacks are typically allocated per thread when each thread is created.</p>
    </blockquote>
  </li>
  <li>
    <p>Â í¬ê¸°ëŠ” ê³ ì •ì ìœ¼ë¡œ í• ë‹¹ í•  ìˆ˜ë„ ìˆê³ , ë™ì ìœ¼ë¡œ ê³„ì‚° ë  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.</p>

    <blockquote>
      <p>Â This specification permits native method stacks either to be of a fixed size or to dynamically expand and contract as required by the computation.</p>
    </blockquote>

    <ul>
      <li>
        <p>Â ì •ì  í• ë‹¹ì‹œ í• ë‹¹í•œ ì–‘ì„ ì´ˆê³¼í•˜ë©´ <em>StackOverFlow</em> ë‚  ìˆ˜ ìˆê³ , ë™ì ìœ¼ë¡œ í• ë‹¹í•´ë„ ë©”ëª¨ë¦¬ê°€ ë¶€ì¡±í•˜ë©´ <em>OutOfMemory</em> ë‚  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

        <blockquote>
          <p>Â If the computation in a thread requires a larger native method stack than is permitted, the Java Virtual Machine throws a <code class="highlighter-rouge">StackOverflowError</code>.</p>

          <p>Â If native method stacks can be dynamically expanded and native method stack expansion is attempted but insufficient memory can be made available, or if insufficient memory can be made available to create the initial native method stack for a new thread, the Java Virtual Machine throws an <code class="highlighter-rouge">OutOfMemoryError</code>.</p>
        </blockquote>

        <p><small>ì¶œì²˜ : https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-2.html#jvms-2.5.6</small></p>
      </li>
    </ul>
  </li>
</ul>
:ET