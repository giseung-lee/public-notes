---
layout: post
title: C Unmanaged Programming 4 - ν¬μΈν„° (μ‘μ„±μ¤‘)
---
{% assign imgurl=site.imgbase|append: page.categories[-1] %}



- ν•΄λ‹Ή ν¬μ¤ν…μ€ [Kim Pope μ„ μƒλ‹μ C μ–Έλ§¤λ‹μ§€λ“ ν”„λ΅κ·Έλλ° κ°•μ](https://www.udemy.com/course/c-unmanaged-programming-by-pocu/)λ¥Ό μ •λ¦¬ν•λ©° μ‚¬κ²¬μ„ λ¶™μΈ κ²ƒμ…λ‹λ‹¤.

- ν¬μ¤ν… λ‚΄ λ©μ°¨λ” λ™μμƒκ°•μ κΈ°μ¤€μ…λ‹λ‹¤.



## 87. ν¬μΈν„°

---

- μ•μ„ μ¤νƒλ©”λ¨λ¦¬λ¥Ό μ•λ ¤λ“λ¦°κ±΄ μ§€κΈ μ΄ ν¬μΈν„°λ¥Ό λ°°μ°κΈ° μ„ν•¨μ…λ‹λ‹¤.
- ν¬μΈνΈ λ’¤λ΅ λ‚μ¤λ” λ¨λ“  κ²ƒλ“¤μ—” ν¬μΈν„°κ°€ ν•„μ”ν•λ‹¤κ³  λ³΄μ‹λ©΄ λ©λ‹λ‹¤.
- μ„ μƒλ‹μ΄ Cμ—μ„ μ¤‘μ”ν•λ‹¤κ³  μƒκ°ν•λ” μ„Έ κ°€μ§€λ” λ‹¤μκ³Ό κ°™μµλ‹λ‹¤.
  - ν¬μΈν„°
  - λ™μ  λ©”λ¨λ¦¬ ν• λ‹Ή
  - κµ¬μ΅°μ²΄, κ³µμ©μ²΄λ¥Ό ν¬μΈν„°, λ™μ  λ©”λ¨λ¦¬μ™€ ν•¨κ» μ“°λ” λ²•

### κ°λ°μκ°€ μ§μ ‘ λ©”λ¨λ¦¬ μ£Όμ†λ¥Ό μ΄μ©ν•΄ λ°μ΄ν„°λ¥Ό λ°”κΏ€ μ μλ‚μ”?

- λ‹¤λ¥Έ μ–Έμ–΄μ€λ‹¤λ©΄ λ¶κ°€λ¥ ν•μ§€λ§ Cμ—μ„  κ°€λ¥ν•©λ‹λ‹¤. μ΄κ±Έ μν•λ©΄ λ§¤μ° κ°•λ ¥ν• μΌμ„ ν•  μ μμ§€λ§, μλ» κ±΄λ“λ¦¬λ©΄ νν.. π
- Cκ°€ μ„ν—ν•λ‹¤, κ°•λ ¥ν•λ‹¤ λ¨λ‘ μ΄ ν¬μΈν„° λ•λ¬Έμ…λ‹λ‹¤.

## 88. μ£Όμ† μ—°μ‚°μ \&

---

- μ§μ ‘ λ©”λ¨λ¦¬ μ£Όμ†λ΅ λ³€μλ¥Ό μ΅°μ‘ν•λ ¤λ©΄ μ°μ„  ν•΄λ‹Ή λ³€μμ μ£Όμ†λ¥Ό μ•μ•„μ•Ό ν•©λ‹λ‹¤.

- μ•„λ μ½”λ“λ¥Ό μ‹¤ν–‰ν•΄ λ΄…μ‹λ‹¤.

  ```c
  void print_address(void){
      int num = 10;
      printf("address of num is %p\n", (void*)&num);
  }
  int main(void){
      print_address();
      return 0;
  }
  /*
  address of num is 00000068ED6FF914
  */
  ```

- \&λ¥Ό μ£Όμ† μ—°μ‚°μλΌκ³  ν•©λ‹λ‹¤. (λΉ„νΈμ—°μ‚°μ \&μ™€ ν—·κ°λ¦¬μ§€ λ§™μ‹λ‹¤. λΉ„νΈμ—°μ‚°μ \&λ” ν”Όμ—°μ‚°μκ°€ 2κ°μ…λ‹λ‹¤.)

  - \&λ’¤μ— μ¤λ” λ³€μμ μ£Όμ†λ¥Ό λλ ¤μ¤λ‹λ‹¤.

- μ£Όμ†λ¥Ό ν‘ν„ν•  λ• 16μ§„μλ¥Ό μ‚¬μ©ν•©λ‹λ‹¤. 

  - printf μ—μ„ "%p" λ¥Ό μ‚¬μ©ν•λ©΄ μ£Όμ†λ¥Ό 16μ§„μλ΅ λ³΄μ—¬μ¤λ‹λ‹¤.

- μ‹¤ν–‰ν•  λ• λ§λ‹¤ μ£Όμ†κ°€ λ°”λ€λ‹λ‹¤. (λ³΄μ• κ°•ν™”λ¥Ό μ„ν•΄ μ‹¤ν–‰ν•  λ•λ§λ‹¤ ν”„λ΅κ·Έλ¨μ΄ μ¬λΌκ°€λ” μ£Όμ†κ°€ λ°”λ€λ‹λ‹¤. - ASLR μ΄λΌκ³  ν•©λ‹λ‹¤.)



## 89. λ©”λ¨λ¦¬ μ£Όμ† μ €μ¥ν•κΈ°

---

- \& μ—°μ‚°μλ΅ μ£Όμ†λ¥Ό κµ¬ν•  μ μλ‹¤λ” κ±Έ λ°°μ› μµλ‹λ‹¤. κ·ΈλΌ μ΄ μ£Όμ†λ¥Ό μ–΄λ–»κ² λ³€μμ— μ €μ¥ν• κΉμ”.

  - μ–΄μ°¨ν”Ό 16μ§„μ μ«μλ‹κΉ intμ— μ €μ¥ν•λ©΄ λμ§€ μ•μ„κΉμ”!! π‘‰ μ»΄νμΌ μ—λ¬ λ‚©λ‹λ‹¤.

    ```c
    void try(void){
    	int num = 10;
    	int num_addr = &num;
    }
    /*
    error: incompatible pointer to integer conversion initializing 'int' with an expression of type 'int *'; remove &
    */
    ```

- μ•μΌλ΅ 'μ£Όμ†'μ™€ 'κ°’'μ΄ κ³„μ† μ–ΈκΈ‰ λ  ν…λ° λ‘μ„ μ κµ¬λ¶„ν•©μ‹λ‹¤. μ£Όμ†λ” κ°’μ λ©”λ¨λ¦¬ μ„μΉ.

- μ£Όμ†λ¥Ό μ €μ¥ν•κΈ° μ„ν• νΉλ³„ν• λ³€μκ°€ μμµλ‹λ‹¤.

  - κ·Έ λ³€μκ°€ λ°”λ΅ **ν¬μΈν„°**μ…λ‹λ‹¤.
  - ν¬μΈν„° is λ³€μ



## 90. ν¬μΈν„°μ μλ―Έ

---

- ν¬μΈν„°λ€ μ£Όμ†λ¥Ό μ €μ¥ν•κΈ° μ„ν• λ³€μ**ν•**μ…λ‹λ‹¤.
- ν¬μΈν„°λ” λ³€μμ…λ‹λ‹¤. λ©”λ¨λ¦¬ μ£Όμ†λ¥Ό μ €μ¥ν•λ” λ³€μμ”.
- ν¬μΈν„°λ¥Ό λ‹¤λ¥Έ λ³µμ΅ν• μ •μλ΅ μ΄ν•΄ν•λ©΄ μ•μΌλ΅ λ” λ³µμ΅ν•΄μ§‘λ‹λ‹¤. ν¬μΈν„°λ” κ·Έλƒ¥ λ³€μμ—μ”.



## 91. λ©”λ¨λ¦¬ μ£Όμ†μ— μ €μ¥λ μλ£ν•

---

- μ£Όμ†μ— μ €μ¥λ μλ£ν•μ€ λ­κΉμ”?
  - ν•λ“μ›¨μ–΄λ” μ‹ κ²½μ“°μ§€ μ•μµλ‹λ‹¤. λΉ„νΈν¨ν„΄μ„ charλ΅ μ½μΌλ©΄ charκ³ , intλ΅ μ½μΌλ©΄ intκ³ , floatμΌλ΅ μ½μΌλ©΄ floatμ…λ‹λ‹¤.
- κ·Όλ°, ν•΄λ‹Ή μ£Όμ†μ—μ„λ¶€ν„° λ‡ λ°”μ΄νΈλ¥Ό μ½μ–΄μ•Ό ν•λ”μ§€(λ‚λ” μ΄ μ£Όμ†μ—μ„ λ‡ λ°”μ΄νΈλ¥Ό κ°κ±°μ•Ό! κ°™μ€κ²ƒ)λ” ν•λ“μ›¨μ–΄μ—κ² μ•λ ¤μ¤μ•Ό ν•©λ‹λ‹¤.
- ν¬μΈν„° λ³€μλ¥Ό μ„ μ–Έν•  λ• κ·Έ μ£Όμ†μ— μ–΄λ–¤ ν•μ λ°μ΄ν„°κ°€ μλ”μ§€ λ…μ‹ν•΄μ¤μ•Ό ν•©λ‹λ‹¤.
  - int ν¬μΈν„°, float ν¬μΈν„°, char ν¬μΈν„° μ΄λ° μ‹μ…λ‹λ‹¤.
  - μ–΄λ–¤ λ³€μμ— μ£Όμ†κ°€ μλ”λ° κ·Έκ±Έ int λ΅ μ½μ–΄λΌ, floatμΌλ΅ μ½μ–΄λΌ, charλ΅ μ½μ–΄λΌ



## 92. ν¬μΈν„° λ³€μλ¥Ό μ„ μ–Έν•λ” λ°©λ²•

---

- μλ£ν• λ’¤μ— \*λ¥Ό λ¶™μ—¬ ν¬μΈν„° λ³€μλ¥Ό μ„ μ–Έν•©λ‹λ‹¤.

  ```c
  void save_address(void){
  	int num = 10;
  	int* num_addr = &num;
  }
  ```

  - int\*, char\*, float\* λ¨λ‘ κ°€λ¥ν•©λ‹λ‹¤.

- `int *variableName;` μΌλ΅ μ¨λ„ λμ§€λ§ μ°λ¦¬λ” `int* variableName;`μ„ μ”μ‹λ‹¤.



## 93. ν¬μΈν„° λ³€μλ¥Ό λ¶€λ¥΄λ” λ°©λ²•

---

- ν•κµ­μ—μ„  λ³΄ν†µ 'int ν¬μΈν„°' λΌκ³  λ¶€λ¦…λ‹λ‹¤.
- μμ–΄λ΅λ” 'pointer to an int' λΌκ³  λ¶€λ¦…λ‹λ‹¤.
- ν¬μΈν„° μ½λ” λ²•μ€ μ¤‘μ”ν•©λ‹λ‹¤. λ’¤μ— ν¬μΈν„°λ¥Ό μ–΄λ–»κ² μ½λλƒμ— λ”°λΌ μ¤‘μ”ν•΄μ§€λ” λ¶€λ¶„μ΄ μμµλ‹λ‹¤. μ„ μƒλ‹μ€ μμ–΄μ‹ ν‘ν„μ„ μ„ νΈν•λ” κ²ƒ κ°™μµλ‹λ‹¤.
- ν¬μΈν„°λ” λ©”λ¨λ¦¬ μ£Όμ†λ¥Ό μ €μ¥ν•λ” λ³€μ.
  - κ·ΈλΌ ν¬μΈν„°μ λ‚΄μ©μ€ μ–΄λ””μ— μ €μ¥λμ£ ? π‘‰ λ‹Ήμ—°ν λ©”λ¨λ¦¬ μ–΄λ”κ°€μ—
  - λ‹¤λ¥Έ μ„μΉλ¥Ό κ°€λ¦¬ν‚¤λ” λ³€μμ—¬μ„ 'ν¬μΈν„°'λΌκ³  λ¶€λ¦…λ‹λ‹¤.
- μ²μ κ³µλ¶€ν•  λ• λ¨λμΆ…μ΄ μ‚¬μ„ λ©”λ¨λ¦¬ κ·Έλ ¤λ³΄λ©΄μ„ ν•μ‹κΈΈ μ¶”μ²ν•©λ‹λ‹¤.
  - λμΌλ΅λ§ λ³΄λ©΄μ„ νΈν•κ² ν•λ©΄ λ¨Έλ¦¬μ— μ•λ‚¨μµλ‹λ‹¤. κ±Έλ Έλ„¤..π…



## 94. ν¬μΈν„° λ³€μμ μ‹¤μ  λ©”λ¨λ¦¬ λ·°

---

- λ””λ²„κ±°μ™€ μ¤λΈμ νΈ μ½”λ“λ¥Ό κΉμ„ μ‹¤μ  λ©”λ¨λ¦¬ λ³΄λ” μ¤‘..
- λ©”λ¨λ¦¬ λ³΄λ‹¤λ³΄λ©΄ μ£Όμ†κ°€ λ’¤μ§‘ν€ λ³΄μ΄λ”κ±Έ λ³Ό μ μμµλ‹λ‹¤.
- λ°μ΄ν„°κ°€ λλ‚λ” λ§μ§€λ§‰ λ‹¨μ„λ¥Ό κ°€μ¥ μ‘μ€ λ©”λ¨λ¦¬ μ£Όμ†μ— μ„μΉν•΄ λ©”λ¨λ¦¬ μ£Όμ†λ¥Ό λ’¤μ§‘μ–΄ μ €μ¥ν•λ” λ°©μ‹μ„ 'λ¦¬ν‹€ μ—”λ””μ–Έ' μ΄λΌκ³  ν•©λ‹λ‹¤. [μ°Έκ³ ](https://ko.wikipedia.org/wiki/μ—”λ””μ–Έ)
  - μ”μ¦ λ‚μ¤λ” μΈν…”, amd λ¦¬ν‹€ μ—”λ””μ–Έ λ°©μ‹μ…λ‹λ‹¤.  λΉ… μ—”λ””μ–Έμ€ μ›λ‚  cpuλ“¤μ…λ‹λ‹¤.
  - POCU ν•™μƒμ΄λΌλ©΄ 'μ†ν”„νΈμ›¨μ–΄ κ³µν•™μ© μν•™' μ‹κ°„μ— λ°°μ› μµλ‹λ‹¤.
  - λ“¤μ–΄μ•Ό λλ‚.. 



## 95. ν¬μΈν„°μ λΉ„μ  : ν„μ‹¤ μ„Έκ³„ μ

---

- κΈ°μ μ μΈ μ„¤λ…μ€ μ„μ— λ‚μ¨ κ²ƒμΌλ΅ λμ…λ‹λ‹¤. ν„μ‹¤ μ„Έκ³„λ΅ λΉ„μ λ¥Ό ν• λ² ν•΄λ³΄κ² μµλ‹λ‹¤.
- ν¨μ“°



## 96. λ‹¤λ¥Έ ν¬μΈν„°μ μ

---

- int ν¬μΈν„° λ§κ³  λ‹¤λ¥Έ ν¬μΈν„°λ„ μ“Έ μ μμµλ‹λ‹¤.

- κ° μ½”λ“λ“¤μ„ λ””λ²„κ·Έ μ°μ–΄μ„ κ°’ λ½‘μ•„λ³΄κ³ , μ¤λΈμ νΈ μ½”λ“ μ—΄μ–΄μ„ μ£Όμ† κµ¬κ²½ν•΄λ΄…μ‹λ‹¤.

  ```c
  void save_address(void){
  	char num = 10;
  	char* num_addr = &num;
  }
  ```

  ```c
  void save_address(void){
  	short num = 10;
  	short* num_addr = &num;
  }
  ```

  ```c
  void save_address(void){
  	float num = 10;
  	float* num_addr = &num;
  }
  ```

  ```c
  void save_address(void){
  	double num = 10;
  	double* num_addr = &num;
  }
  ```

  

## 97. ν¬μΈν„°μ— μ €μ¥λ μ£Όμ†λ„ λ°”κΏ€ μ μλ‚μ”?

---

- ν¬μΈν„°λ„ λ³€μλ‹κΉ λ‹Ήμ—°ν λ³€κ²½ κ°€λ¥ν•©λ‹λ‹¤.
- ν¬ν”„ μ„ μƒλ‹ κ°•μλ” ν•λ‚ ν•λ‚κ°€ κµ‰μ¥ν μ§§μΌμ‹­λ‹λ‹¤. ~~(λ€μ‹  μ΄ λ™μμƒμ 342κ°...)~~



(μ‘μ„±μ¤‘)